<!doctype html>

<title>OBO PURL YAML Code Editor</title>
<meta charset="utf-8"/>

<!-- TODO: Get rid of any includes that we don't need. -->

<!-- JQuery and JQuery UI CDNs -->
<script src="https://code.jquery.com/jquery-3.3.1.js"
	      integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	      crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
			  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
			  crossorigin="anonymous"></script>
<script src="/3pp/jquery-plugins/jquery.blockUI.js"></script>

<!-- Bootstrap and bootbox dependencies -->
<link rel="stylesheet" type="text/css" href="/3pp/bootstrap/css/bootstrap.min.css"/>
<script src="/3pp/bootstrap/js/bootstrap.min.js"></script>
<script src="/3pp/bootbox/bootbox.min.js"></script>
<script src="/3pp/bootbox/bootbox.locales.min.js"></script>

<!-- CodeMirror dependencies -->
<link rel="stylesheet" href="/3pp/codemirror/lib/codemirror.css"/>
<link rel="stylesheet" href="/3pp/codemirror/addon/display/fullscreen.css"/>
<link rel="stylesheet" href="/3pp/codemirror/addon/hint/show-hint.css">
<script src="/3pp/codemirror/lib/codemirror.js"></script>
<script src="/3pp/codemirror/addon/dialog/dialog.js"></script>
<script src="/3pp/codemirror/addon/search/searchcursor.js"></script>
<script src="/3pp/codemirror/addon/edit/matchbrackets.js"></script>
<script src="/3pp/codemirror/addon/display/fullscreen.js"></script>
<script src="/3pp/codemirror/mode/yaml/yaml.js"></script>
<script src="/3pp/codemirror/addon/hint/show-hint.js"></script>


<script src="/purl_editor.js" defer></script>
<link rel="stylesheet" href="/purl_editor.css"/>

<div class="container-fluid">
<h2>OBO PURL YAML Code Editor</h2>
<div>
  <ul>
    <li>Press <samp>F11</samp> inside the editor to maximize editor space (<samp>Esc</samp> to revert).</li>
    <li>Press <samp>Ctrl-space</samp> for autocompletion.</li>
  </ul>
</div>

<div>
  <button id="edit-btn" class="btn btn-primary" onclick="edit_github()">Edit a file from the repository</button>
  <button id="create-btn" class="btn btn-primary" onclick="edit_new()">Edit a new file</button>
</div>

<!-- Here is where the CodeMirror editor will live. This element is hidden but it will be used all
     the same to generate the CodeMirror editor. -->
<textarea id="code" class="hidden">{{ yaml }}</textarea>

<button id="validate-btn" class="btn btn-primary" onclick="validate()">Validate</button>
<button id="pr-btn" class="btn btn-danger" onclick="create_pr()" disabled>Create PR</button>

<!-- Messages received when pressing the 'Validate' button are displayed in this div. -->
<div id="status-area"/>

</div>
